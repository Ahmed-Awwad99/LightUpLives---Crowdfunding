{% extends "base.html" %}
{% block title %}Manage Projects{% endblock %}
{% block content %}
{% if alert %}
<div class="alert alert-{{ alert_type }} alert-dismissible fade show" role="alert">
    {{ alert }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endif %}

<h1 class="text-success">Your Projects</h1>
<ul class="list-group">
    {% for project in user_projects %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <a href="{% url 'project_detail' project.id %}" class="text-decoration-none text-success">{{ project.title }}</a>
            <span class="badge bg-success text-white">{{ project.category.name }}</span>
            {% if not project.cancelled %}
                <form method="POST" action="{% url 'cancel_project' project.id %}" class="d-inline">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-danger btn-sm">Cancel</button>
                </form>
            {% else %}
                <span class="text-danger">Cancelled</span>
            {% endif %}
        </li>
    {% endfor %}
</ul>

<h2 class="mt-5 text-success">All Projects</h2>
<ul class="list-group">
    {% for project in all_projects %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <a href="{% url 'project_detail' project.id %}" class="text-decoration-none text-success">{{ project.title }}</a>
            <span class="badge bg-success text-white">{{ project.category.name }}</span>
        </li>
    {% endfor %}
</ul>
{% endblock %}
